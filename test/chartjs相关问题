<html>
<head>
<script src="./chart.js"></script>

</head>
<body>
<div>wocao</div>
<canvas id="myChart" width="400" height="400"></canvas>
<div id="chart-legends"></div>
<script>

function minutesToHours(minutes) {
    
    return minutes * 10;
}

var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 0, 0, 1)',
                'rgba(0, 255, 0, 1)',
                'rgba(0, 0, 255, 1)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
	options: {
	  scales: {
				  y: {
					title : 'gege',
					ticks: {
						// y轴加百分号
						callback: function(value, index, values) {
							return value + '%';
						}
					}
				}
	  },
	  plugins:{
		tooltip : {
			callbacks: {
				//tooltip改变显示的内容
                    label: function(context) {
                        var label = context.dataset.label || '';

                        if (label) {
                            label += ': ';
                        }
                        /*if (context.parsed.y !== null) {
                            label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y);
                        }*/
                        return label + context.parsed.y + '%';
                    }
			}
		}
	  
	  },
	   legendCallback: function(chart) {
			var text = [];
			text.push('<ul>');
			for (var i=0; i<chart.data.datasets.length; i++) {
			  console.log(chart.data.datasets[i]); // see what's inside the obj.
			  text.push('<li>');
			  text.push('<span style="background-color:' + chart.data.datasets[i].borderColor + '">' + chart.data.datasets[i].label + '</span>');
			  text.push('</li>');
			}
			text.push('</ul>');
			return text.join("");
		},
}
});
document.getElementById('chart-legends').innerHTML = myChart.generateLegend();
</script>
</body>

</html>
